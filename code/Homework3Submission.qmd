---
title: "Homework3Submission"
author: "Rachel Alvarado"
subtitle: "https://github.com/roalvarado02/ENVS-193DS_homework-03.git" 
format: html
execute:
  message: false
  warning: false
---

```{r}
library(tidyverse) 
library(here)
library(gt)
library(janitor)
library(readxl)

my_data <- read_csv("/home/jovyan/ES-193DS/ENVS-193DS_homework-03/data/193DS - Personal data project - Sheet1 (1).csv") 

```

# Problem 1: Personal data

## a. Data Summarizing 

[I am summarizing my data by taking the mean number of steps taken for each sleep category: less than 7 hours, 7–8 hours, 8–9 hours, 9–10 hours, and 10 or more hours, and comparing my daily step counts across different sleep durations. I sleep less when I have to get up early and be out of the house, so I think I will walk more compared to the days I am able to sleep in.]

## b. Vizualization

```{r}
# Set ggplot theme
theme_set(theme_bw())

# Clean and categorize data
my_data <- my_data |> 
  clean_names() |> 
  mutate(sleep_category = cut(
    sleep_hours,
    breaks = c(-Inf, 7, 8, 9, 10, Inf),
    labels = c("Less than 7", "7–8", "8–9", "9–10", "10 or more"),
    right = FALSE))

# Create plot
ggplot(my_data, 
       aes(x = sleep_category, 
           y = exercise_steps, 
           color = sleep_category)) +
  
  # Add jitter layer
  geom_jitter(shape = 1, height = 0, width = 0.2, alpha = 0.6) +
  
  # Colored filled mean points
  stat_summary(
    geom = "point", 
    fun = mean, 
    size = 4, 
    aes(color = sleep_category)) +

  # Labels and title
  labs(x = "Sleep Duration Category",
       y = "Number of Steps",
       title = "Daily Steps vs Sleep Duration Category") +

  # Remove legend 
  theme(legend.position = "none") +

  # Manually set color palette
  scale_color_manual(values = c(
    "Less than 7" = "red",
    "7–8" = "orange",
    "8–9" = "hotpink",
    "9–10" = "green",
    "10 or more" = "blue"
  )) 


```


## c. Caption

[Figure 1 - Less than 9 hours of sleep have higher step counts compared to sleeping 9 or more hours.

Scatterplot showing the relationship between categorized sleep duration and number of daily steps taken. Each open circle represents a singular day's step count, colored by sleep duration category (total n = 35). Sleeping less than 9 hours is colored red, sleeping 7-8 hours is colored orange, sleeping 8-9 hours is colored hot pink, sleeping 9-10 hours is colored green, and sleeping 10 or more hours is colored blue. The larger filled dots indicate the average steps for each group. Data was collected by self recording hours of sleep and tracking through phone step count.]


## d. Table presentation


```{r}
# Summarize mean steps by sleep category
summary_table <- my_data |> 
  group_by(sleep_category) |> 
  summarise(Average_Steps = round(mean(exercise_steps), 1)) |> 
  arrange(factor(sleep_category, levels = c("Less than 7", "7–8", "8–9", "9–10", "10 or more")))

# Create GT table
summary_table |> 
  gt() |> 
  cols_label(
    sleep_category = "Sleep Duration Category",
    Average_Steps = "Average Steps"
  ) |> 
  tab_header(
    title = "Average Daily Steps by Sleep Duration"
  )

```


# Problem 2: Affective visualization 

## a. Describe in words what an affective visualization could look like for your personal data



## b. Create a sketch of your idea



## c. Make a draft of your visualization



## d. Write an artist statement



# Problem 3: A Statistical Critique 

## a. Revisit and summarize



## b. Visual clarity



## c. Aesthetic clarity



## d. Recommendations


